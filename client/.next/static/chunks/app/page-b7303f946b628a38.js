(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6885:function(e,t,a){Promise.resolve().then(a.bind(a,1969))},3083:function(e,t,a){"use strict";a.d(t,{UserProvider:function(){return c},x:function(){return o}});var s=a(7437),r=a(2265);let o=(0,r.createContext)(),c=e=>{let{children:t}=e,[a,c]=(0,r.useState)({user:{},token:""});return(0,r.useEffect)(()=>{c(window.localStorage.getItem("auth"))},[]),(0,s.jsx)(o.Provider,{value:[a,c],children:t})}},1969:function(e,t,a){"use strict";a.r(t);var s=a(7437);a(594);var r=a(2265),o=a(2126),c=a(6463),l=a(3083),d=a(3580);a(4193),t.default=()=>{let[e,t]=(0,r.useState)([]),[a,n]=(0,r.useContext)(l.x),[i,h]=(0,r.useState)(""),u=(0,c.useRouter)(),[m,p]=(0,r.useState)(""),[x,A]=(0,r.useState)(!1),g=async(e,t)=>{console.log(e,t);try{let a=await o.Z.post("".concat("http://localhost:8080/api","/deleteRecord"),{recordType:e,recordSetName:t,dnsZoneName:"Hllog.com",resourceGroup:"hllo_group"});d.Am.success(a.data.message),b()}catch(e){d.Am.error("Failed to Delete Record"),console.error("Failed to delete record:",e)}},b=async()=>{try{let{data:e}=await o.Z.post("".concat("http://localhost:8080/api","/verifyDomain"),{domainName:"90amandasgmail.onmicrosoft.com"},{headers:{Authorization:"Bearer ".concat(a.token)}});t(e)}catch(e){console.error("Failed to fetch data:",e)}};(0,r.useEffect)(()=>{let a=e.filter(e=>{let t=!!e.data.host&&e.data.host.toLowerCase().includes(m.toLowerCase()),a=!!e.data.email&&e.data.email.toLowerCase().includes(m.toLowerCase()),s=!!e.data.target&&e.data.target.toLowerCase().includes(m.toLowerCase());return t||a||s});m?t(a):b()},[m]);let j=e=>{h(e),"A"===i?u.push("/Pages/ARecord"):"AAAA"===i?u.push("/Pages/AAAA"):"CNAME"===i?u.push("/Pages/CNAME"):"TXT"===i?u.push("/Pages/TXT"):"MX"===i?u.push("/Pages/MX"):"NS"===i?u.push("/Pages/NS"):"PTR"===i?u.push("/Pages/PTR"):"SOA"===i?u.push("/Pages/SOA"):"SRV"===i&&u.push("/Pages/SRV"),A(!1)};return(0,s.jsxs)("div",{className:"container mt-4",children:[(0,s.jsx)(d.Ix,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,s.jsx)("h2",{children:"Custom Domain Names"}),(0,s.jsx)("button",{type:"button",className:"btn btn-primary",onClick:()=>A(!0),children:"Add Record"}),(0,s.jsx)("input",{type:"text",placeholder:"Search records...",className:"form-control my-2",value:m,onChange:e=>{p(e.target.value)}}),(0,s.jsxs)("table",{className:"table mt-3",style:{tableLayout:"fixed",width:"100%"},children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Type"}),(0,s.jsx)("th",{children:"Name"}),(0,s.jsx)("th",{children:"value"}),(0,s.jsx)("th",{children:"TTL"}),(0,s.jsx)("th",{children:"Actions"})]})}),(0,s.jsx)("tbody",{children:e.map((e,t)=>{let a,r,o;switch(e.type){case"SOA":a=e.data.host,r="Email: ".concat(e.data.email,", Serial: ").concat(e.data.serialNumber,", Expire: ").concat(e.data.expireTime),o=e.data.minimumTtl;break;case"NS":a="@",r=e.data.map(e=>e.nsdname).join(", "),o="Default";break;case"A":a=e.name,r=e.data[0].ipv4Address,o=e.data.ttl;break;case"AAAA":a=e.data.host,r=e.data.ipv6,o=e.data.ttl;break;case"TXT":a=e.data.host,r=e.data.text,o=e.data.ttl;break;case"CNAME":a=e.data.alias,r=e.data.target,o=e.data.ttl;break;case"SRV":a=e.data.service+"."+e.data.protocol,r="Priority: ".concat(e.data.priority,", Weight: ").concat(e.data.weight,", Port: ").concat(e.data.port,", Target: ").concat(e.data.target),o=e.data.ttl;break;default:a="Unknown",r="N/A",o="N/A"}return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:e.type}),(0,s.jsx)("td",{children:a}),(0,s.jsx)("td",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:r}),(0,s.jsx)("td",{children:o}),(0,s.jsx)("td",{children:"NS"!==e.type&&"SOA"!==e.type&&(0,s.jsx)("button",{className:"btn btn-danger btn-sm",onClick:()=>g(e.type,e.name),children:"Delete"})})]},t)})})]}),x&&(0,s.jsx)("div",{className:"modal show d-block",children:(0,s.jsx)("div",{className:"modal-dialog",children:(0,s.jsxs)("div",{className:"modal-content",children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h5",{className:"modal-title",children:"Select Record Type"})," ",(0,s.jsx)("button",{type:"button",className:"close btn-danger",onClick:()=>A(!1),style:{marginLeft:"10px",boxShadow:"initial",borderRadius:"2px"},children:(0,s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,s.jsx)("div",{className:"modal-body",children:(0,s.jsx)("div",{className:"list-group",children:["A","AAAA","CNAME","TXT","MX","NS","SOA","SRV"].map(e=>(0,s.jsxs)("button",{onClick:()=>j(e),className:"list-group-item list-group-item-action",children:[e," Record"]},e))})})]})})}),x&&(0,s.jsx)("div",{className:"modal-backdrop fade show"})]})}},594:function(){}},function(e){e.O(0,[610,143,489,971,23,744],function(){return e(e.s=6885)}),_N_E=e.O()}]);